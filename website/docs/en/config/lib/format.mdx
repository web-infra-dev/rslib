# lib.format

- **Type:** `'esm' | 'cjs' | 'umd' | 'mf'`
- **Default:** `undefined`
- **Required**: true

Specify the output format for the generated JavaScript output files.

See [Output Format](/guide/basic/output-format) and [Module Federation](/guide/advanced/module-federation) for more details.

::: note

The `umd` format only works when [bundle](/config/lib/bundle) is set to `true`.

:::

## Module definition systems

In different output formats, Rslib uses the following default module definition systems:

- `esm`：[modern-module](https://rspack.dev/config/output#type-modern-module)
- `cjs`：[commonjs-static](https://rspack.dev/config/output#type-commonjs-static)
- `umd`：[umd](https://rspack.dev/config/output#type-umd)

If you want to use a different module definition system, you can configure the [tools.rspack.output.library.type](https://rspack.dev/config/output#outputlibrarytype) option. Below is an example that sets the module definition system for the `cjs` format to `commonjs`:

```ts title="rslib.config.ts"
export default {
  lib: [
    {
      format: 'cjs',
      tools: {
        rspack: {
          output: {
            library: {
              type: 'commonjs',
            },
          },
        },
      },
    },
  ],
};
```

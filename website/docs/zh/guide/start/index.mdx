# 介绍

Rslib 是一个库开发工具，它基于 [Rsbuild](https://rsbuild.dev/zh/) 精心设计的配置和插件，使库开发者得以复用 webpack 和 Rspack 繁荣的知识和生态系统。

Rslib 提供了丰富的构建功能，包括：

- **多种语言的编译**: TypeScript、JSX、Sass、Less、CSS Modules、Wasm 等。
- **灵活的构建模式**: Bundle 和 bundleless 模式以满足不同的需求。
- **多种输出格式**: ESM、CJS 和 UMD 以实现最大兼容性。
- **类型声明文件生成**: 包括 isolated declarations。
- **进阶功能**: 模块联邦、资源压缩、PostCSS、Lightning CSS 等。

## 🚀 为什么选择 Rslib

在开发组件库或者工具库的过程中，开发者不仅需要关注项目逻辑的实现，还要考虑项目的构建、调试、文档、测试等等和代码逻辑无关的事情。社区中现有的许多工具与方案，它们通常都能很好地满足其中个别需求，但对于不熟悉这些工具与方案的开发者而言，往往需要繁琐的配置工作或同时使用多种工具配合来满足这些需求。

同时，我们在实践中发现，目前库开发主要面临以下痛点：

- **工具生态不完善**：例如 esbuild 生态无法支持模块联邦功能，webpack 对 library ESM 产物的支持也存在不足。
- **模块规范兼容性问题**：对 ESM、CJS、UMD 等多种模块规范的支持，显著增加了兼容性和互操作性的开发成本。
- **产物优化不足**：库产物在 tree-shaking 和代码分割等方面的优化效果欠佳。
- **构建性能瓶颈**：部分工具因架构限制而存在明显的性能问题。
- **配置复用性差**：应用项目与库项目的构建配置难以复用与共享，导致不一致的开发体验和较高的维护成本。
- **开发流程割裂**：库调试、文档和测试等环节缺乏统一的解决方案，与核心开发流程产生割裂。

Rspack / Rsbuild 的不断迭代与发展让我们看到了解决这些问题的可能。Rslib 在它们的基础上进行了一系列工作，利用 webpack / Rspack 生态的优势，为库开发场景提供了一套开箱即用的解决方案，在构建性能、模块规范兼容性、产物优化等方面都取得了显著的成效。同时，Rslib 通过统一的配置和完善的功能生态，能够串联起整个库开发流程，从而大幅降低开发者的配置成本，提高开发效率与体验。

## 🔥 特性

Rslib 具备以下特性：

- **易于配置**: Rslib 旨在通过提供开箱即用的构建能力，简化库的开发，使库开发者能够以最少的配置启动库项目。

- **性能优先**: Rslib 集成了社区中基于 Rust 的高性能工具，包括 [Rspack](https://rspack.dev/zh/)、[SWC](https://swc.rs/) 和 [Lightning CSS](https://lightningcss.dev/)，以提供一流的构建速度和开发体验。

- **插件生态**: Rslib 基于 Rsbuild 轻量级的插件系统和一系列高质量的官方插件。此外，Rsbuild 兼容大多数的 webpack 插件和所有 Rspack 插件，这意味着库开发者可以无缝集成现有的社区或公司内插件到库项目中。

## 🎯 生态

Rslib 基于 Rsbuild 实现，并完全复用 Rsbuild 的能力和生态系统。

下图说明了 Rsbuild 与生态中其他工具之间的关系：

![Rspack stack layers](https://assets.rspack.dev/rsbuild/assets/rspack-stack-layers.png)

## 🦀 链接

- [Rspack](https://github.com/web-infra-dev/rspack): 基于 Rust 的高性能打包工具。
- [Rsbuild](https://github.com/web-infra-dev/rsbuild): 由 Rspack 驱动的构建工具。
- [Rspress](https://github.com/web-infra-dev/rspress): 基于 Rsbuild 的静态站点生成器。
- [Rsdoctor](https://github.com/web-infra-dev/rsdoctor): 针对 Rspack 和 webpack 的一站式构建分析工具。
- [Modern.js](https://github.com/web-infra-dev/modern.js): 基于 Rsbuild 的渐进式 React 框架。
- [awesome-rspack](https://github.com/web-infra-dev/awesome-rspack): 与 Rspack 和 Rsbuild 相关的精彩内容列表。
- [rspack-examples](https://github.com/rspack-contrib/rspack-examples): Rspack、Rsbuild、Rspress 和 Rsdoctor 的示例项目。
- [storybook-rsbuild](https://github.com/rspack-contrib/storybook-rsbuild): 基于 Rsbuild 构建的 Storybook。
- [rsbuild-plugin-template](https://github.com/rspack-contrib/rsbuild-plugin-template): 使用此模板创建你的 Rsbuild 插件。
- [rstack-design-resources](https://github.com/rspack-contrib/rstack-design-resources): Rspack、Rsbuild、Rslib、Rspress 和 Rsdoctor 的设计资源。

## 🧑‍💻 社区

欢迎加入我们的 [Discord](https://discord.gg/XsaKEEk4mW) 交流频道！Rspack / Rsbuild / Rslib 团队和用户都在那里活跃，并且我们一直期待着各种贡献。

你也可以加入 [飞书群](https://applink.feishu.cn/client/chat/chatter/add_by_link?link_token=3c3vca77-bfc0-4ef5-b62b-9c5c9c92f1b4) 与大家一起交流。

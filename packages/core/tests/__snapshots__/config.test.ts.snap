// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Should compose create Rsbuild config correctly > Merge Rsbuild config in each format 1`] = `
[
  {
    "config": {
      "output": {
        "assetPrefix": "auto",
        "dataUriLimit": 0,
        "distPath": {
          "css": "./",
          "cssAsync": "./",
          "js": "./",
          "jsAsync": "./",
        },
        "externals": [
          [Function],
          "assert",
          "assert/strict",
          "async_hooks",
          "buffer",
          "child_process",
          "cluster",
          "console",
          "constants",
          "crypto",
          "dgram",
          "diagnostics_channel",
          "dns",
          "dns/promises",
          "domain",
          "events",
          "fs",
          "fs/promises",
          "http",
          "http2",
          "https",
          "inspector",
          "inspector/promises",
          "module",
          "net",
          "os",
          "path",
          "path/posix",
          "path/win32",
          "perf_hooks",
          "process",
          "punycode",
          "querystring",
          "readline",
          "readline/promises",
          "repl",
          "stream",
          "stream/consumers",
          "stream/promises",
          "stream/web",
          "string_decoder",
          "sys",
          "timers",
          "timers/promises",
          "tls",
          "trace_events",
          "tty",
          "url",
          "util",
          "util/types",
          "v8",
          "vm",
          "wasi",
          "worker_threads",
          "zlib",
          /\\^node:/,
          "pnpapi",
        ],
        "filename": {
          "js": "[name].mjs",
        },
        "filenameHash": false,
        "minify": {
          "css": false,
          "js": true,
          "jsOptions": {
            "minimizerOptions": {
              "compress": {
                "dead_code": true,
                "defaults": false,
                "toplevel": true,
                "unused": true,
              },
              "format": {
                "comments": "some",
                "preserve_annotations": true,
              },
              "mangle": false,
              "minify": false,
            },
          },
        },
        "overrideBrowserslist": [
          "last 1 node versions",
        ],
        "target": "node",
      },
      "performance": {
        "chunkSplit": {
          "strategy": "custom",
        },
      },
      "plugins": [
        {
          "name": "rsbuild:disable-url-parse",
          "setup": [Function],
        },
        {
          "name": "rsbuild:lib-asset",
          "pre": [
            "rsbuild:svgr",
          ],
          "setup": [Function],
        },
        {
          "name": "rsbuild:lib-entry-chunk",
          "setup": [Function],
        },
      ],
      "resolve": {
        "alias": {
          "bar": "bar",
          "foo": "foo/esm",
        },
      },
      "source": {
        "entry": {},
        "preEntry": "./b.js",
      },
      "tools": {
        "htmlPlugin": false,
        "rspack": [
          {
            "experiments": {
              "rspackFuture": {
                "bundlerInfo": {
                  "force": false,
                },
              },
            },
            "optimization": {
              "moduleIds": "named",
              "nodeEnv": false,
              "splitChunks": {
                "chunks": "async",
              },
            },
            "resolve": {
              "extensionAlias": {
                ".cjs": [
                  ".cts",
                  ".cjs",
                ],
                ".js": [
                  ".ts",
                  ".tsx",
                  ".js",
                  ".jsx",
                ],
                ".jsx": [
                  ".tsx",
                  ".jsx",
                ],
                ".mjs": [
                  ".mts",
                  ".mjs",
                ],
              },
            },
          },
          {
            "experiments": {
              "outputModule": true,
            },
            "module": {
              "parser": {
                "javascript": {
                  "importDynamic": false,
                  "importMeta": false,
                  "requireAsExpression": false,
                  "requireDynamic": false,
                  "requireResolve": false,
                  "worker": false,
                },
              },
            },
            "node": {
              "__dirname": false,
              "__filename": false,
            },
            "optimization": {
              "avoidEntryIife": true,
              "concatenateModules": true,
              "sideEffects": "flag",
            },
            "output": {
              "chunkFormat": "module",
              "chunkLoading": "import",
              "library": {
                "type": "modern-module",
              },
              "module": true,
              "wasmLoading": "fetch",
              "workerChunkLoading": "import",
            },
            "plugins": [
              RslibPlugin {
                "_args": [
                  {
                    "interceptApiPlugin": true,
                  },
                ],
                "affectedHooks": undefined,
                "name": "RslibPlugin",
              },
            ],
          },
          [Function],
          {
            "target": [
              "node",
            ],
          },
          {
            "externalsType": "module-import",
          },
          {
            "plugins": [
              EntryChunkPlugin {
                "contextToWatch": null,
                "enabledImportMetaUrlShim": false,
                "reactDirectives": {},
                "shebangChmod": 493,
                "shebangEntries": {},
                "shebangInjectedAssets": Set {},
                "shimsInjectedAssets": Set {},
              },
            ],
          },
          {
            "resolve": {
              "extensionAlias": {
                ".js": [
                  ".ts",
                  ".tsx",
                ],
              },
            },
          },
        ],
        "swc": {
          "jsc": {
            "externalHelpers": false,
          },
        },
      },
    },
    "format": "esm",
  },
  {
    "config": {
      "output": {
        "assetPrefix": "auto",
        "dataUriLimit": 0,
        "distPath": {
          "css": "./",
          "cssAsync": "./",
          "js": "./",
          "jsAsync": "./",
        },
        "externals": [
          "assert",
          "assert/strict",
          "async_hooks",
          "buffer",
          "child_process",
          "cluster",
          "console",
          "constants",
          "crypto",
          "dgram",
          "diagnostics_channel",
          "dns",
          "dns/promises",
          "domain",
          "events",
          "fs",
          "fs/promises",
          "http",
          "http2",
          "https",
          "inspector",
          "inspector/promises",
          "module",
          "net",
          "os",
          "path",
          "path/posix",
          "path/win32",
          "perf_hooks",
          "process",
          "punycode",
          "querystring",
          "readline",
          "readline/promises",
          "repl",
          "stream",
          "stream/consumers",
          "stream/promises",
          "stream/web",
          "string_decoder",
          "sys",
          "timers",
          "timers/promises",
          "tls",
          "trace_events",
          "tty",
          "url",
          "util",
          "util/types",
          "v8",
          "vm",
          "wasi",
          "worker_threads",
          "zlib",
          /\\^node:/,
          "pnpapi",
        ],
        "filename": {
          "js": "[name].js",
        },
        "filenameHash": false,
        "minify": {
          "css": false,
          "js": true,
          "jsOptions": {
            "minimizerOptions": {
              "compress": {
                "dead_code": true,
                "defaults": false,
                "toplevel": true,
                "unused": true,
              },
              "format": {
                "comments": "some",
                "preserve_annotations": true,
              },
              "mangle": false,
              "minify": false,
            },
          },
        },
        "overrideBrowserslist": [
          "last 1 node versions",
        ],
        "target": "node",
      },
      "performance": {
        "chunkSplit": {
          "strategy": "custom",
        },
      },
      "plugins": [
        {
          "name": "rsbuild:cjs-import-meta-url-shim",
          "setup": [Function],
        },
        {
          "name": "rsbuild:disable-url-parse",
          "setup": [Function],
        },
        {
          "name": "rsbuild:lib-asset",
          "pre": [
            "rsbuild:svgr",
          ],
          "setup": [Function],
        },
        {
          "name": "rsbuild:lib-entry-chunk",
          "setup": [Function],
        },
      ],
      "resolve": {
        "alias": {
          "bar": "bar/cjs",
          "foo": "foo",
        },
      },
      "source": {
        "entry": {},
        "preEntry": [
          "./a.js",
          "./c.js",
          "./d.js",
        ],
      },
      "tools": {
        "htmlPlugin": false,
        "rspack": [
          {
            "experiments": {
              "rspackFuture": {
                "bundlerInfo": {
                  "force": false,
                },
              },
            },
            "optimization": {
              "moduleIds": "named",
              "nodeEnv": false,
              "splitChunks": {
                "chunks": "async",
              },
            },
            "resolve": {
              "extensionAlias": {
                ".cjs": [
                  ".cts",
                  ".cjs",
                ],
                ".js": [
                  ".ts",
                  ".tsx",
                  ".js",
                  ".jsx",
                ],
                ".jsx": [
                  ".tsx",
                  ".jsx",
                ],
                ".mjs": [
                  ".mts",
                  ".mjs",
                ],
              },
            },
          },
          {
            "module": {
              "parser": {
                "javascript": {
                  "importDynamic": false,
                  "importMeta": false,
                  "requireAsExpression": false,
                  "requireDynamic": false,
                  "requireResolve": false,
                  "worker": false,
                },
              },
            },
            "output": {
              "chunkFormat": "commonjs",
              "chunkLoading": "require",
              "iife": false,
              "library": {
                "type": "commonjs-static",
              },
              "wasmLoading": "async-node",
              "workerChunkLoading": "async-node",
            },
            "plugins": [
              RslibPlugin {
                "_args": [
                  {
                    "interceptApiPlugin": true,
                  },
                ],
                "affectedHooks": undefined,
                "name": "RslibPlugin",
              },
            ],
          },
          [Function],
          {
            "target": [
              "node",
            ],
          },
          {
            "externalsType": "commonjs-import",
          },
          {
            "plugins": [
              EntryChunkPlugin {
                "contextToWatch": null,
                "enabledImportMetaUrlShim": true,
                "reactDirectives": {},
                "shebangChmod": 493,
                "shebangEntries": {},
                "shebangInjectedAssets": Set {},
                "shimsInjectedAssets": Set {},
              },
            ],
          },
          {
            "resolve": {
              "extensionAlias": {
                ".js": [
                  ".ts",
                  ".tsx",
                ],
              },
            },
          },
        ],
        "swc": {
          "jsc": {
            "externalHelpers": false,
          },
        },
      },
    },
    "format": "cjs",
  },
  {
    "config": {
      "output": {
        "distPath": {
          "css": "./",
          "cssAsync": "./",
          "js": "./",
          "jsAsync": "./",
        },
        "externals": [
          "assert",
          "assert/strict",
          "async_hooks",
          "buffer",
          "child_process",
          "cluster",
          "console",
          "constants",
          "crypto",
          "dgram",
          "diagnostics_channel",
          "dns",
          "dns/promises",
          "domain",
          "events",
          "fs",
          "fs/promises",
          "http",
          "http2",
          "https",
          "inspector",
          "inspector/promises",
          "module",
          "net",
          "os",
          "path",
          "path/posix",
          "path/win32",
          "perf_hooks",
          "process",
          "punycode",
          "querystring",
          "readline",
          "readline/promises",
          "repl",
          "stream",
          "stream/consumers",
          "stream/promises",
          "stream/web",
          "string_decoder",
          "sys",
          "timers",
          "timers/promises",
          "tls",
          "trace_events",
          "tty",
          "url",
          "util",
          "util/types",
          "v8",
          "vm",
          "wasi",
          "worker_threads",
          "zlib",
          /\\^node:/,
          "pnpapi",
        ],
        "filename": {
          "js": "[name].js",
        },
        "filenameHash": false,
        "minify": {
          "css": false,
          "js": true,
          "jsOptions": {
            "minimizerOptions": {
              "compress": {
                "dead_code": true,
                "defaults": false,
                "toplevel": true,
                "unused": true,
              },
              "format": {
                "comments": "some",
                "preserve_annotations": true,
              },
              "mangle": false,
              "minify": false,
            },
          },
        },
        "overrideBrowserslist": [
          "last 1 node versions",
        ],
        "target": "node",
      },
      "performance": {
        "chunkSplit": {
          "strategy": "custom",
        },
      },
      "plugins": [
        {
          "name": "rsbuild:lib-entry-chunk",
          "setup": [Function],
        },
      ],
      "resolve": {
        "alias": {
          "bar": "bar",
          "foo": "foo",
        },
      },
      "source": {
        "entry": {},
        "preEntry": "./a.js",
      },
      "tools": {
        "htmlPlugin": false,
        "rspack": [
          {
            "experiments": {
              "rspackFuture": {
                "bundlerInfo": {
                  "force": false,
                },
              },
            },
            "optimization": {
              "moduleIds": "named",
              "nodeEnv": false,
              "splitChunks": {
                "chunks": "async",
              },
            },
            "resolve": {
              "extensionAlias": {
                ".cjs": [
                  ".cts",
                  ".cjs",
                ],
                ".js": [
                  ".ts",
                  ".tsx",
                  ".js",
                  ".jsx",
                ],
                ".jsx": [
                  ".tsx",
                  ".jsx",
                ],
                ".mjs": [
                  ".mts",
                  ".mjs",
                ],
              },
            },
          },
          {
            "module": {
              "parser": {
                "javascript": {
                  "importMeta": false,
                },
              },
            },
            "optimization": {
              "nodeEnv": "test",
            },
            "output": {
              "asyncChunks": false,
              "library": {
                "type": "umd",
              },
            },
            "plugins": [
              RslibPlugin {
                "_args": [
                  {
                    "interceptApiPlugin": true,
                  },
                ],
                "affectedHooks": undefined,
                "name": "RslibPlugin",
              },
            ],
          },
          [Function],
          {
            "target": [
              "node",
            ],
          },
          {
            "externalsType": "umd",
          },
          {
            "plugins": [
              EntryChunkPlugin {
                "contextToWatch": null,
                "enabledImportMetaUrlShim": false,
                "reactDirectives": {},
                "shebangChmod": 493,
                "shebangEntries": {},
                "shebangInjectedAssets": Set {},
                "shimsInjectedAssets": Set {},
              },
            ],
          },
          {
            "resolve": {
              "extensionAlias": {
                ".js": [
                  ".ts",
                  ".tsx",
                ],
              },
            },
          },
        ],
        "swc": {
          "jsc": {
            "externalHelpers": false,
          },
        },
      },
    },
    "format": "umd",
  },
  {
    "config": {
      "output": {
        "distPath": {
          "css": "./",
          "cssAsync": "./",
          "js": "./",
          "jsAsync": "./",
        },
        "externals": [
          "assert",
          "assert/strict",
          "async_hooks",
          "buffer",
          "child_process",
          "cluster",
          "console",
          "constants",
          "crypto",
          "dgram",
          "diagnostics_channel",
          "dns",
          "dns/promises",
          "domain",
          "events",
          "fs",
          "fs/promises",
          "http",
          "http2",
          "https",
          "inspector",
          "inspector/promises",
          "module",
          "net",
          "os",
          "path",
          "path/posix",
          "path/win32",
          "perf_hooks",
          "process",
          "punycode",
          "querystring",
          "readline",
          "readline/promises",
          "repl",
          "stream",
          "stream/consumers",
          "stream/promises",
          "stream/web",
          "string_decoder",
          "sys",
          "timers",
          "timers/promises",
          "tls",
          "trace_events",
          "tty",
          "url",
          "util",
          "util/types",
          "v8",
          "vm",
          "wasi",
          "worker_threads",
          "zlib",
          /\\^node:/,
          "pnpapi",
        ],
        "filename": {
          "js": "[name].js",
        },
        "filenameHash": false,
        "minify": {
          "css": false,
          "js": true,
          "jsOptions": {
            "minimizerOptions": {
              "compress": {
                "dead_code": true,
                "defaults": false,
                "toplevel": true,
                "unused": true,
              },
              "format": {
                "comments": "some",
                "preserve_annotations": true,
              },
              "mangle": false,
              "minify": false,
            },
          },
        },
        "overrideBrowserslist": [
          "last 1 node versions",
        ],
        "target": "node",
      },
      "performance": {
        "chunkSplit": {
          "strategy": "custom",
        },
      },
      "plugins": [
        {
          "name": "rsbuild:lib-entry-chunk",
          "setup": [Function],
        },
      ],
      "resolve": {
        "alias": {
          "bar": "bar",
          "foo": "foo",
        },
      },
      "source": {
        "entry": {},
        "preEntry": "./a.js",
      },
      "tools": {
        "htmlPlugin": false,
        "rspack": [
          {
            "experiments": {
              "rspackFuture": {
                "bundlerInfo": {
                  "force": false,
                },
              },
            },
            "optimization": {
              "moduleIds": "named",
              "nodeEnv": false,
              "splitChunks": {
                "chunks": "async",
              },
            },
            "resolve": {
              "extensionAlias": {
                ".cjs": [
                  ".cts",
                  ".cjs",
                ],
                ".js": [
                  ".ts",
                  ".tsx",
                  ".js",
                  ".jsx",
                ],
                ".jsx": [
                  ".tsx",
                  ".jsx",
                ],
                ".mjs": [
                  ".mts",
                  ".mjs",
                ],
              },
            },
          },
          {
            "module": {
              "parser": {
                "javascript": {
                  "importMeta": false,
                },
              },
            },
            "optimization": {
              "nodeEnv": "test",
            },
            "output": {
              "asyncChunks": false,
              "iife": true,
              "library": {
                "type": "modern-module",
              },
            },
            "plugins": [
              RslibPlugin {
                "_args": [
                  {
                    "interceptApiPlugin": true,
                  },
                ],
                "affectedHooks": undefined,
                "name": "RslibPlugin",
              },
            ],
          },
          [Function],
          {
            "target": [
              "node",
            ],
          },
          {
            "externalsType": "global",
            "output": {
              "globalObject": "globalThis",
            },
          },
          {
            "plugins": [
              EntryChunkPlugin {
                "contextToWatch": null,
                "enabledImportMetaUrlShim": false,
                "reactDirectives": {},
                "shebangChmod": 493,
                "shebangEntries": {},
                "shebangInjectedAssets": Set {},
                "shimsInjectedAssets": Set {},
              },
            ],
          },
          {
            "resolve": {
              "extensionAlias": {
                ".js": [
                  ".ts",
                  ".tsx",
                ],
              },
            },
          },
        ],
        "swc": {
          "jsc": {
            "externalHelpers": false,
          },
        },
      },
    },
    "format": "iife",
  },
  {
    "config": {
      "dev": {
        "writeToDisk": true,
      },
      "output": {
        "distPath": {
          "css": "./",
          "cssAsync": "./",
          "js": "./",
          "jsAsync": "./",
        },
        "filename": {
          "js": "[name].js",
        },
        "filenameHash": false,
        "minify": {
          "css": false,
          "js": true,
          "jsOptions": {
            "minimizerOptions": {
              "compress": {
                "dead_code": true,
                "defaults": false,
                "toplevel": false,
                "unused": true,
              },
              "format": {
                "comments": "some",
                "preserve_annotations": true,
              },
              "mangle": false,
              "minify": true,
            },
          },
        },
        "overrideBrowserslist": [
          "last 1 Chrome versions",
          "last 1 Firefox versions",
          "last 1 Edge versions",
          "last 1 Safari versions",
          "last 1 ios_saf versions",
          "not dead",
        ],
        "target": "web",
      },
      "performance": {
        "chunkSplit": {
          "strategy": "custom",
        },
      },
      "plugins": [
        {
          "name": "rsbuild:lib-entry-chunk",
          "setup": [Function],
        },
        {
          "name": "rsbuild:module-federation-enhanced",
          "setup": [Function],
        },
      ],
      "resolve": {
        "alias": {
          "bar": "bar",
          "foo": "foo",
        },
      },
      "source": {
        "entry": {},
        "preEntry": "./a.js",
      },
      "tools": {
        "htmlPlugin": false,
        "rspack": [
          {
            "experiments": {
              "rspackFuture": {
                "bundlerInfo": {
                  "force": false,
                },
              },
            },
            "optimization": {
              "moduleIds": "named",
              "nodeEnv": false,
              "splitChunks": {
                "chunks": "async",
              },
            },
            "resolve": {
              "extensionAlias": {
                ".cjs": [
                  ".cts",
                  ".cjs",
                ],
                ".js": [
                  ".ts",
                  ".tsx",
                  ".js",
                  ".jsx",
                ],
                ".jsx": [
                  ".tsx",
                  ".jsx",
                ],
                ".mjs": [
                  ".mts",
                  ".mjs",
                ],
              },
            },
          },
          [Function],
          [Function],
          {
            "target": [
              "web",
            ],
          },
          {
            "externalsType": "global",
          },
          {
            "plugins": [
              EntryChunkPlugin {
                "contextToWatch": null,
                "enabledImportMetaUrlShim": false,
                "reactDirectives": {},
                "shebangChmod": 493,
                "shebangEntries": {},
                "shebangInjectedAssets": Set {},
                "shimsInjectedAssets": Set {},
              },
            ],
          },
          {
            "resolve": {
              "extensionAlias": {
                ".js": [
                  ".ts",
                  ".tsx",
                ],
              },
            },
          },
        ],
        "swc": {
          "jsc": {
            "externalHelpers": false,
          },
        },
      },
    },
    "format": "mf",
  },
]
`;
